schema: '2.0'
stages:
  collect-data:
    cmd: calkit xenv -n py -- python scripts/collect-data.py
    deps:
    - path: environment.yml
      hash: md5
      md5: ad47ccf7d6698b070bd66005f95f62af
      size: 120
    - path: scripts/collect-data.py
      hash: md5
      md5: eeab1328ac4a9df2ef2452d32c1e6cce
      size: 424
    outs:
    - path: data/raw/data.csv
      hash: md5
      md5: f40143e55ac9418ba6b60020157ccb44
      size: 43648
  plot-voltage:
    cmd: calkit xenv -n py -- python scripts/plot-voltage.py
    deps:
    - path: data/raw/data.csv
      hash: md5
      md5: f40143e55ac9418ba6b60020157ccb44
      size: 43648
    - path: environment.yml
      hash: md5
      md5: ad47ccf7d6698b070bd66005f95f62af
      size: 120
    - path: scripts/plot-voltage.py
      hash: md5
      md5: 087a567a0c0f6199a908399013d564a1
      size: 297
    outs:
    - path: figures/voltage-time-series.png
      hash: md5
      md5: b078655712ed98118fbcb09138d1824a
      size: 45844
  copy-figures-to-paper-dir:
    cmd: cp -rf figures paper && rm paper/figures/.gitignore
    deps:
    - path: figures
      hash: md5
      md5: 8d47fda6e0051eb228ed54fdb84d2662.dir
      size: 45869
      nfiles: 2
    outs:
    - path: paper/figures
      hash: md5
      md5: 9e1d55998c6deae6704b2993b9b094f0.dir
      size: 45844
      nfiles: 1
  build-paper:
    cmd: "calkit xenv -n tex -- latexmk -cd -interaction=nonstopmode -pdf paper/paper.tex\n"
    deps:
    - path: paper/figures
      hash: md5
      md5: 9e1d55998c6deae6704b2993b9b094f0.dir
      size: 45844
      nfiles: 1
    - path: paper/paper.tex
      hash: md5
      md5: 4a5e7ca6f2fd5dd8238f9e084cb8d4f0
      size: 686
    outs:
    - path: paper/paper.pdf
      hash: md5
      md5: 441d37333b5db3bf65acc7486755d258
      size: 97449
