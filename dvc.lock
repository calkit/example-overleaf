schema: '2.0'
stages:
  collect-data:
    cmd: calkit xenv -n py --no-check -- python scripts/collect-data.py
    deps:
    - path: .calkit/env-locks/py
      hash: md5
      md5: 159c31b70f5e3a16bd9c2afc12943452.dir
      size: 6513
      nfiles: 2
    - path: scripts/collect-data.py
      hash: md5
      md5: fbaf7583794ecd6f2576ea24590e8c47
      size: 383
    outs:
    - path: data/raw/data.csv
      hash: md5
      md5: df5bc86d6ccc5aa6fd618355e2eb7861
      size: 43658
  plot-voltage:
    cmd: calkit xenv -n py --no-check -- python scripts/plot-voltage.py
    deps:
    - path: .calkit/env-locks/py
      hash: md5
      md5: 159c31b70f5e3a16bd9c2afc12943452.dir
      size: 6513
      nfiles: 2
    - path: data/raw/data.csv
      hash: md5
      md5: df5bc86d6ccc5aa6fd618355e2eb7861
      size: 43658
    - path: scripts/plot-voltage.py
      hash: md5
      md5: b6aecc253448164cc02116ec4ba40d96
      size: 323
    outs:
    - path: figures/voltage-time-series.png
      hash: md5
      md5: f0e999d192f44cf6aa04afb3f33d03bd
      size: 43959
  map-paths:
    cmd: calkit map-paths --dir-to-dir-merge 'figures->paper/figures' 
      --file-to-dir 'references.bib->paper'
    deps:
    - path: figures
      hash: md5
      md5: 379f3636c933b2b6b68f9b44f8c1e8e7.dir
      size: 43984
      nfiles: 2
    - path: references.bib
      hash: md5
      md5: 2fc1994a416f2c333bb576ad351f0fce
      size: 5856
    outs:
    - path: paper/figures
      hash: md5
      md5: 1249612e9d824d8d123bdaf1af931ac2.dir
      size: 43959
      nfiles: 1
    - path: paper/references.bib
      hash: md5
      md5: 2fc1994a416f2c333bb576ad351f0fce
      size: 5856
  build-paper:
    cmd: calkit latex build -e tex --no-check paper/paper.tex
    deps:
    - path: .calkit/env-locks/tex
      hash: md5
      md5: ccb6c85a15e7c6a0c88bffac69f5cef0.dir
      size: 2390
      nfiles: 2
    - path: paper/figures
      hash: md5
      md5: 1249612e9d824d8d123bdaf1af931ac2.dir
      size: 43959
      nfiles: 1
    - path: paper/paper.tex
      hash: md5
      md5: f40f9d9f3118cd4081e3bad9903822be
      size: 912
    - path: paper/references.bib
      hash: md5
      md5: 2fc1994a416f2c333bb576ad351f0fce
      size: 5856
    outs:
    - path: paper/paper.pdf
      hash: md5
      md5: f77dac04a33fdc790b117c9d8efbdbc5
      size: 113578
